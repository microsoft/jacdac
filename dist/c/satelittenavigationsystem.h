// Autogenerated C header file for Satellite Navigation System
#ifndef _JACDAC_SPEC_SATNAV_H
#define _JACDAC_SPEC_SATNAV_H 1

#define JD_SERVICE_CLASS_SATNAV  0x19dd6136

// enum FixQuality (uint8_t)
#define JD_SATNAV_FIX_QUALITY_NOT_AVAILABLE 0x0
#define JD_SATNAV_FIX_QUALITY_SINGLE_POINT 0x1
#define JD_SATNAV_FIX_QUALITY_DIFFERENTIAL 0x2
#define JD_SATNAV_FIX_QUALITY_RTKFIXED_AMBIGUITY_SOLUTION 0x4
#define JD_SATNAV_FIX_QUALITY_RTKFLOATING_AMBIGUITY_SOLUTION 0x5
#define JD_SATNAV_FIX_QUALITY_DEAD_RECKONING 0x6
#define JD_SATNAV_FIX_QUALITY_MANUAL_INPUT 0x7
#define JD_SATNAV_FIX_QUALITY_SIMULATOR 0x8
#define JD_SATNAV_FIX_QUALITY_WAAS 0x9

/**
 * Reported coordinates, geometric altitude and time of position.
 */
#define JD_SATNAV_REG_POSITION JD_REG_READING
typedef struct jd_satnav_position {
    uint64_t timestamp; // ms
    int32_t latitude;  // lat i9.23
    int32_t longitude;  // lon i9.23
    int32_t altitude;  // m i26.6
} jd_satnav_position_t;


/**
 * Read-write bool (uint8_t). Turns on or off the GPS antenna.
 */
#define JD_SATNAV_REG_ENABLED JD_REG_INTENSITY

/**
 * Fix information extracted from a GGA message.
 */
#define JD_SATNAV_REG_GGA 0x181
typedef struct jd_satnav_gga {
    uint32_t hdop;  // u12.20
    int32_t antenna_height;  // m i10.22
    int32_t geoidal_separation;  // m i10.22
    uint16_t age_of_differential_corretion; // s
    uint16_t differential_reference_station;
    uint8_t quality;  // FixQuality
    uint8_t satellites;
} jd_satnav_gga_t;


/**
 * The module is enabled and ready to receive position data.
 */
#define JD_SATNAV_EV_FIX_AVAILABLE JD_EV_ACTIVE

/**
 * The module is disabled or lost connection with satellites.
 */
#define JD_SATNAV_EV_INACTIVE JD_EV_INACTIVE

#endif
